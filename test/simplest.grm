// GrimR language test file

var cursorX, cursorY;
var VRAM;
var banana[16], tree[4];

def DrawRect(posX, posY, width, height)
{
    var spanX, spanY;

    spanY = posY;
    while (spanY<posY+height)
    {
        spanX = posX;
        while (spanX<posX+width)
        {
            var address;
            address = spanX + spanY*320;
            // Array operator can alias a variable
            // as a pointer at that address if used
            // on a non-array integer.
            VRAM[address] = 0xFF;
            spanX = spanX+1;
        }
        spanY = spanY+1;
    }
}

def main()
{
    VRAM = 0x80000000;
    var i;
    i=0;
    while(i<10)
        banana[i] = i;
    DrawRect(512, 384, 128, 96);
    DrawRect(1, 2, 3, 4);
}
