# Instruction count: 136

@ORG 0x00000000

branch main
@LABEL infloop
vsync
jmp infloop
# End of program

@LABEL TileSprite
lea r0, TileSprite_height
pop r1
st.w r0, r1
lea r0, TileSprite_width
pop r1
st.w r0, r1
lea r0, TileSprite_posY
pop r1
st.w r0, r1
lea r0, TileSprite_posX
pop r1
st.w r0, r1
ld.w r0, 0x0
lea r1, TileSprite_spanY
st.w [r1], r0

@LABEL beginwhile2
lea r0, TileSprite_spanY
ld.w r0, [r0]
lea r1, TileSprite_height
ld.w r1, [r1]
cmp r0, r1
test less
jmpifnot endwhile3
ld.w r0, 0x0
lea r1, TileSprite_spanX
st.w [r1], r0

@LABEL beginwhile0
lea r0, TileSprite_spanX
ld.w r0, [r0]
lea r1, TileSprite_width
ld.w r1, [r1]
cmp r0, r1
test less
jmpifnot endwhile1
lea r0, TileSprite_spanX
ld.w r0, [r0]
ld.w r1, 0x11
imod r0, r1
lea r1, TileSprite_spanY
ld.w r1, [r1]
ld.w r2, 0x17
imod r1, r2
ld.w r2, 0x11
imul r1, r2
iadd r0, r1
lea r1, _sprite
iadd r0, r1
ld.b r0, [r0] # RHS, valueof
ld.w r1, 0x8000
ld.w r2, 0x10
bsl r1, r2
lea r2, TileSprite_posY
ld.w r2, [r2]
lea r3, TileSprite_spanY
ld.w r3, [r3]
iadd r2, r3
ld.w r3, 0x100
imul r2, r3
lea r3, TileSprite_posX
ld.w r3, [r3]
lea r4, TileSprite_spanX
ld.w r4, [r4]
iadd r3, r4
iadd r2, r3
or r1, r2
lea r2, _VRAM
ld.w r2, [r2]
iadd r1, r2
st.b [r1], r0
ld.w r0, 0x1
lea r1, TileSprite_spanX
ld.w r1, [r1]
iadd r0, r1
lea r1, TileSprite_spanX
st.w [r1], r0
jmp beginwhile0

@LABEL endwhile1
ld.w r0, 0x1
lea r1, TileSprite_spanY
ld.w r1, [r1]
iadd r0, r1
lea r1, TileSprite_spanY
st.w [r1], r0
jmp beginwhile2

@LABEL endwhile3
ret 

@LABEL main

@LABEL beginwhile4
lea r0, main_frame
ld.w r0, [r0]
ld.w r1, 0x64
cmp r0, r1
test less
jmpifnot endwhile5
lea r0, main_frame
ld.w r0, [r0]
fsel r0
ld.w r0, 0xff
clf r0
lea r0, main_posX
ld.w r0, [r0]
push r0
ld.w r0, 0x30
push r0
ld.w r0, 0x11
push r0
ld.w r0, 0x17
push r0
branch TileSprite
ld.w r0, 0x1
lea r1, main_frame
ld.w r1, [r1]
iadd r0, r1
lea r1, main_frame
st.w [r1], r0
ld.w r0, 0x1
lea r1, main_posX
ld.w r1, [r1]
iadd r0, r1
lea r1, main_posX
st.w [r1], r0
vsync 
jmp beginwhile4

@LABEL endwhile5
ret 

#-------------Symbol Table-------------

@LABEL _loword
# ref:0 dim:1 typename:word
@DW 0x7FFFFFFF 
@LABEL _VRAM
# ref:0 dim:1 typename:byteptr
@DW 0x0000 0x0000
@LABEL _sprite
# ref:0 dim:391 typename:byte
@DW 0xFFFF 0xFFFF 0xFFFF 0xFFFF 0xFFFF 0xFFFF 0xFFFF 0xFFFF 
@DW 0xFFFF 0xFFFF 0xFFFF 0xFFFF 0x0B13 0x530B 0x13F6 0xFFFF 
@DW 0xFFFF 0xFFFF 0xFFFF 0xFF01 0x134E 0x4E06 0x6E0E 0x04EE 
@DW 0xFFFF 0xFFFF 0xFFFF 0xFF09 0x4E0E 0x4E4E 0x677F 0xFF0B 
@DW 0xAEFF 0xFFFF 0xFFFF 0xFF13 0x0497 0x4E4E 0x0109 0x1353 
@DW 0x0009 0xEEFF 0xFFFF 0xFF13 0x044E 0x8F01 0x0100 0x0000 
@DW 0x0000 0x0000 0xF6FF 0xFFFF 0x00F7 0x0009 0x0056 0x0016 
@DW 0x000C 0xACEE 0xACF6 0xFFFF 0x13AE 0x26AE 0x0016 0xF700 
@DW 0xEF00 0xAE6E 0x24F7 0xFFFF 0xFF01 0xEF09 0xFF00 0x01FF 
@DW 0xA4FF 0x64F7 0xAE6E 0x64F6 0xFFFF 0x010B 0x27FF 0x00A4 
@DW 0xFF13 0xAFAF 0xAFAF 0xEF14 0x6EFF 0xFF64 0x000B 0xF703 
@DW 0xFF13 0x0003 0x0B0B 0x0B0B 0x54F7 0xFFFF 0xFF63 0x0027 
@DW 0x16F7 0x0B14 0x0000 0x0000 0x09F6 0xFFFF 0xFFFF 0xFFA3 
@DW 0x090C 0x1616 0x260B 0x0053 0x63F6 0xFFFF 0xFFFF 0xFFFF 
@DW 0xAE03 0x8E16 0x5113 0x6CA1 0xECFF 0xFFFF 0xFFFF 0xFFFF 
@DW 0xFF00 0x560B 0x0FA0 0xECFC 0xFCA3 0xE4F6 0xFFFF 0xFFFF 
@DW 0xFFFF 0x016E 0x6C6E 0x11FF 0xFFF3 0xFF91 0xECFF 0xFFFF 
@DW 0xFFFF 0xFF0B 0xFFFF 0xF60B 0xF6F6 0xF4FE 0x89EC 0xFFFF 
@DW 0xFFFF 0xFFFF 0x03FF 0xFF03 0xE9A1 0x88AB 0xE993 0xF6FF 
@DW 0xFFFF 0xFFFF 0xFF24 0xB6F7 0x1363 0x5149 0x5093 0xF6FF 
@DW 0xFFFF 0xFFFF 0xFFFF 0xFF01 0x1414 0x1411 0x0B13 0x64FF 
@DW 0xFFFF 0xFFFF 0xFFFF 0xFFFF 0x0013 0x090B 0x6E00 0x6C00 
@DW 0xACFF 0xFFFF 0xFFFF 0xFFFF 0xFF09 0x0949 0x1109 0x1109 
@DW 0x09EE 0xFFFF 0xFFFF 0xFFFF 0xFFFF 0xFFFF 0xFFFF 0xFFFF 
@DW 0xFFFF 0xFFFF 0xFFFF 
@LABEL TileSprite_spanX
# ref:0 dim:1 typename:word
@DW 0x7FFFFFFF 
@LABEL TileSprite_spanY
# ref:0 dim:1 typename:word
@DW 0x7FFFFFFF 
@LABEL TileSprite_height
# ref:0 dim:1 typename:word
@DW 0xCDCDCDCD 
@LABEL TileSprite_width
# ref:0 dim:1 typename:word
@DW 0xCDCDCDCD 
@LABEL TileSprite_posY
# ref:0 dim:1 typename:word
@DW 0xCDCDCDCD 
@LABEL TileSprite_posX
# ref:0 dim:1 typename:word
@DW 0xCDCDCDCD 
@LABEL main_frame
# ref:0 dim:1 typename:word
@DW 0x0000 
@LABEL main_posX
# ref:0 dim:1 typename:word
@DW 0x0000 
